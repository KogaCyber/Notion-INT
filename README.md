# Notion-Telegram –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Notion –∏ Telegram –∫–∞–Ω–∞–ª–æ–º.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **Webhooks –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ Notion
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã Notion
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram –∫–∞–Ω–∞–ª  
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (polling —Ä–µ–∂–∏–º)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —ç–º–æ–¥–∑–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤, —Ç–µ–≥–æ–≤ –∏ —Å—Å—ã–ª–æ–∫
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ FastAPI webhook —Å–µ—Ä–≤–µ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–µ–π

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- Notion –∞–∫–∫–∞—É–Ω—Ç —Å API —Ç–æ–∫–µ–Ω–æ–º
- Telegram –±–æ—Ç —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∫–∞–Ω–∞–ª—É

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
```bash
git clone <repository-url>
cd notion-telegram-integration
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
pip install -r requirements.txt
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cp config.example.env .env
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Notion

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://www.notion.so/my-integrations](https://www.notion.so/my-integrations)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ "Internal Integration Token"
4. –î–∞–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø –∫ –Ω—É–∂–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ Notion
   - –ù–∞–∂–º–∏—Ç–µ "Share" ‚Üí "Invite"
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ—ë

5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ URL:
   ```
   https://www.notion.so/workspace/DATABASE_ID?v=...
   ```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
4. –ü–æ–ª—É—á–∏—Ç–µ ID –∫–∞–Ω–∞–ª–∞:
   - –î–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ: `@channel_username`
   - –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ: —á–∏—Å–ª–æ–≤–æ–π ID (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ [@userinfobot](https://t.me/userinfobot))

### 3. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ .env —Ñ–∞–π–ª–∞

```env
# Notion API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
NOTION_TOKEN=your_notion_integration_token_here
NOTION_DATABASE_ID=your_notion_database_id_here
NOTION_WEBHOOK_SECRET=your_webhook_secret_here

# Telegram Bot –Ω–∞—Å—Ç—Ä–æ–π–∫–∏  
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHANNEL_ID=@your_channel_username_or_chat_id

# Webhook —Å–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–ª—è webhook —Ä–µ–∂–∏–º–∞)
WEBHOOK_HOST=0.0.0.0
WEBHOOK_PORT=8000
WEBHOOK_URL=https://your-domain.com/webhook/notion

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–¥–ª—è polling —Ä–µ–∂–∏–º–∞)
SYNC_INTERVAL_MINUTES=30
CHECK_NEW_ITEMS_ONLY=true
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook —Ä–µ–∂–∏–º–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Webhook —Ä–µ–∂–∏–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞ API.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å HTTPS
- –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8000)

**–®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω/—Å–µ—Ä–≤–µ—Ä:**
   ```bash
   # –û–±–Ω–æ–≤–∏—Ç–µ WEBHOOK_URL –≤ .env —Ñ–∞–π–ª–µ
   WEBHOOK_URL=https://your-domain.com/webhook/notion
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ webhook —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   python webhook_server.py
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ webhook –ø–æ–¥–ø–∏—Å–∫—É:**
   ```bash
   python webhook_manager.py create
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   ```bash
   python webhook_manager.py list
   ```

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã webhook —Å–µ—Ä–≤–µ—Ä–∞:**
- `GET /` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞
- `GET /health` - —Å—Ç–∞—Ç—É—Å –∑–¥–æ—Ä–æ–≤—å—è
- `POST /webhook/notion` - –ø—Ä–∏–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç Notion
- `POST /test/send` - —Ç–µ—Å—Ç–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:

1. **üîÑ Webhook —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. **‚è∞ Polling —Ä–µ–∂–∏–º** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è Polling —Ä–µ–∂–∏–º–∞

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
python main.py test

# –ï–¥–∏–Ω–∏—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
python main.py once

# –ó–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–µ–∂–∏–º)
python main.py schedule

# –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
python main.py send "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è Webhook —Ä–µ–∂–∏–º–∞

```bash
# –ó–∞–ø—É—Å–∫ webhook —Å–µ—Ä–≤–µ—Ä–∞
python webhook_server.py

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ webhook –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
python webhook_manager.py create          # —Å–æ–∑–¥–∞—Ç—å webhook
python webhook_manager.py list            # –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ webhooks
python webhook_manager.py delete <id>     # —É–¥–∞–ª–∏—Ç—å webhook
python webhook_manager.py delete-all      # —É–¥–∞–ª–∏—Ç—å –≤—Å–µ webhooks
python webhook_manager.py info <id>       # –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ webhook
python webhook_manager.py config          # –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

**Webhook —Ä–µ–∂–∏–º:**
```bash
# 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python webhook_server.py

# 2. –°–æ–∑–¥–∞–Ω–∏–µ webhook (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
python webhook_manager.py create

# 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
curl -X POST http://localhost:8000/test/send \
  -H "Content-Type: application/json" \
  -d '{"message": "–¢–µ—Å—Ç webhook"}'
```

**Polling —Ä–µ–∂–∏–º:**
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
python main.py test

# –ó–∞–ø—É—Å–∫ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
python main.py schedule

# –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
python main.py once
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö Notion

–°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Notion, –Ω–æ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:

- **Title** (–ó–∞–≥–æ–ª–æ–≤–æ–∫) - –æ—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
- **Status** (–°—Ç–∞—Ç—É—Å) - select —Å–≤–æ–π—Å—Ç–≤–æ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- **Tags** (–¢–µ–≥–∏) - multi-select —Å–≤–æ–π—Å—Ç–≤–æ —Å —Ç–µ–≥–∞–º–∏
- **Created time** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç–∞—Ç—É—Å—ã —Å —ç–º–æ–¥–∑–∏:

- `Not Started` ‚Üí ‚è≥
- `In Progress` ‚Üí üîÑ  
- `Completed` ‚Üí ‚úÖ
- `Cancelled` ‚Üí ‚ùå
- `On Hold` ‚Üí ‚è∏Ô∏è
- `Review` ‚Üí üëÄ
- `Published` ‚Üí üöÄ
- `Draft` ‚Üí üìù

## üì± –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram

–ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ Notion –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

```
üìù –ù–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞

üîÑ –°—Ç–∞—Ç—É—Å: In Progress

üè∑Ô∏è #—Ç–µ–≥1 #—Ç–µ–≥2

üìÖ 25.09.2025 14:30

üîó –û—Ç–∫—Ä—ã—Ç—å –≤ Notion
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `notion_telegram_sync.log` –∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.

–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- INFO - –æ–±—ã—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ERROR - –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ
- WARNING - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## ‚ö†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

1. **"–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

2. **"–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Notion"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

3. **"–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å ID –∫–∞–Ω–∞–ª–∞

4. **"–°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–Ω–∞–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —à–∞–≥–∞–º:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cat .env

# 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
python main.py test

# 3. –ü—Ä–æ–±–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
python main.py once

# 4. –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
python main.py send "–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"
```

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
–í —Ñ–∞–π–ª–µ `.env` –∏–∑–º–µ–Ω–∏—Ç–µ `SYNC_INTERVAL_MINUTES=30` –Ω–∞ –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –º–∏–Ω—É—Ç–∞—Ö.

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `CHECK_NEW_ITEMS_ONLY=false` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –º–µ—Ç–æ–¥ `_format_notion_item()` –≤ —Ñ–∞–π–ª–µ `telegram_client.py`.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª–µ `notion_telegram_sync.log`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python main.py test` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–æ–≤ –∏ ID

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### Webhook —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ systemd (Linux):**
```bash
sudo nano /etc/systemd/system/notion-telegram-webhook.service
```

```ini
[Unit]
Description=Notion Telegram Webhook Server
After=network.target

[Service]
Type=simple
User=your_user
WorkingDirectory=/path/to/your/project
ExecStart=/usr/bin/python3 webhook_server.py
Restart=always
Environment=PATH=/usr/bin:/usr/local/bin

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl daemon-reload
sudo systemctl enable notion-telegram-webhook
sudo systemctl start notion-telegram-webhook
```

**2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker:**
```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 8000
CMD ["python", "webhook_server.py"]
```

**3. Nginx –ø—Ä–æ–∫—Å–∏ (–¥–ª—è HTTPS):**
```nginx
server {
    listen 443 ssl;
    server_name your-domain.com;
    
    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;
    
    location /webhook/notion {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### Polling —Ä–µ–∂–∏–º

**1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ systemd (Linux):**
```bash
sudo nano /etc/systemd/system/notion-telegram-polling.service
```

```ini
[Unit]
Description=Notion Telegram Polling Sync
After=network.target

[Service]
Type=simple
User=your_user
WorkingDirectory=/path/to/your/project
ExecStart=/usr/bin/python3 main.py schedule
Restart=always

[Install]
WantedBy=multi-user.target
```

**2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ screen/tmux:**
```bash
screen -S notion-telegram
python main.py schedule
# Ctrl+A, D –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ—Ç —Å–µ—Å—Å–∏–∏
``` 